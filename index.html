<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="home_styles.css">
    <script src="script.js" defer ></script>
    <link rel="icon" href="images/brandlogo.png">
    <!-- <script src="test.js" defer ></script> -->
    <!-- <script src="jquery.js"></script>

    <script type="text/javascript" 
    src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">  
    </script> -->
    
    <!-- <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="d3.min.js?v=3.2.8"></script>
    
                <script type="text/javascript"charset="utf-8">
                    d3.text("test.csv", function(data) {
                        var parsedCSV = d3.csv.parseRows(data);
                
                        var container = d3.select(".test")
                            .append("table")
                
                            .selectAll("tr")
                                .data(parsedCSV).enter()
                                .append("tr")
                
                            .selectAll("td")
                                .data(function(d) { return d; }).enter()
                                .append("td")
                                .text(function(d) { return d; });
                    });
                </script> -->

    <title>KNUST PREP WEB</title>
    <style>
        @keyframes moveup{
        100%{
            opacity: 1;
            transform: translateY(0px);
        }
      }

.model {
  opacity: 0;
        transform: translateY(30px);
        animation: moveup 0.4s linear forwards;
}

.model:last-child {
  animation-delay: 0.25s;
}
        @media print {
            body * {
                visibility: hidden;
            }
            #content, #content * {
                visibility: visible;
            }
            .content{
                display: none;
            }
            nav {
                display: none;
            }
            table {
                height: fit-content;
                overflow: hidden;
                color: black;
            }
            .content-2 {
                position: absolute;
            }
            
        }

        
    </style>
</head>
<body>
        <nav class="navbar">
            <div class="brand-title">KNUST PREP WEB</div>
            <a href="#" class="toggle-button">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </a>
            <div class="navbar-links">
                <ul>
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="#" id="prep-section" >PREPARATION</a></li>
                    <li><a href="Schedule.html">SCHEDULE</a></li>
                    <li><a href="About.html">ABOUT</a></li>
                </ul>
            </div>
        </nav>
        <div class="content" id="hometoppage">
            <div class="model welcome">
                        <h1 style="display:inline;">Welcome</h1>
                        <p style="display: inline;">to</p>
                <h2>
                    
                    <p>
                        <!-- to -->
                         <span>KNUST PREP WEB</span>
                         </p>
                     
                    <!-- , -->
                </h2>
                <p>where we offer all the preparations for your
                    exams in one place, step right up and start your new
                    preparation experience.</p>

                <div class="selection">
                    <button class="click">Select your course</button>
                    <div class="list">
                        <a href="#move">
                            <button class="links" onclick="loadCS3()">CS3</button>
                        </a>
                        <a href="#move">
                            <button class="links curve" onclick="loadCS4()">CS4</button>
                        </a>
                    </div>
                </div>

            </div>
            
            <div class="model calendar">
                <div class="cal-body">
                    <span class="month-name">Month</span>
                    <span class="day-name">Day</span>
                    <span class="date-number">00</span>
                    <span class="year">0000</span>
                </div>
            </div>
            
        </div>
        <img src="images/moon.png" title="darkmode" class="dark-toggle" id="icon" onclick="darkmode()">
        <div class="content-2" id="move">

            <div class="tables">

<!-- CS4 timetable -->
            <div class="printzone" id="content">
                <!-- <div class="timetable a" id="cs4">
                    <table>
                    <thead>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Course</th>
                        <th>Venue</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Date">Tuesday 24th May 2022</td>
                            <td data-label="Time">12.00pm-2.00pm</td>
                            <td data-label="Course">CSM 481 Information Systems I</td>
                            <td data-label="Venue">SF1/SF19/SF20</td>
                        </tr>
                        <tr>
                            <td data-label="Date">Thursday 26th May 2022</td>
                            <td data-label="Time">3.30pm-5.30pm</td>
                            <td data-label="Course">CSM 481 Operating System</td>
                            <td data-label="Venue">FF1/FF5/FF24</td>
                        </tr>
                        <tr>
                            <td data-label="Date">Monday 30th May 2022</td>
                            <td data-label="Time">3.30pm-5.30pm</td>
                            <td data-label="Course">CSM 491 Graph Theory & its Application	</td>
                            <td data-label="Venue">FF1/FF5/FF24</td>
                        </tr>
                        <tr>
                            <td data-label="Date">Tuesday 31st May 2022</td>
                            <td data-label="Time">3.30pm-5.30pm</td>
                            <td data-label="Course">CSM 477 Data Communications</td>
                            <td data-label="Venue">SF1/SF7/SF8</td>
                        </tr>
                        <tr>
                            <td data-label="Date">Wednesday 1st June 2022</td>
                            <td data-label="Time">3.30pm-5.30pm</td>
                            <td data-label="Course">CSM 495 Introduction to Software Engineering</td>
                            <td data-label="Venue">SF1/SF7/SF8</td>
                        </tr>

                    </tbody>
                </table>

                </div> -->

                <div class="timetable a" id="cs4">
                    <table>
                    <thead>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Course</th>
                        <th>Venue</th>
                        <!-- <th>test</th> -->
                    </thead>
                    <tbody id="tbody1"></tbody>
                    <!-- <tr>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>3</td>
                    </tr>
                    <tr>
                        <td>4</td>
                    </tr> -->
                    <!-- <td>hi</td>
                    <td>hi</td>
                    <td>hi</td>
                    <td>hi</td> -->
                        <!-- <tr>
                            <td data-label="Date">Tuesday 24th May 2022</td>
                            <td data-label="Time">12.00pm-2.00pm</td>
                            <td data-label="Course">CSM 481 Information Systems I</td>
                            <td data-label="Venue">SF1/SF19/SF20</td>
                        </tr>
                        <tr>
                            <td data-label="Date">Thursday 26th May 2022</td>
                            <td data-label="Time">3.30pm-5.30pm</td>
                            <td data-label="Course">CSM 481 Operating System</td>
                            <td data-label="Venue">FF1/FF5/FF24</td>
                        </tr>
                        <tr>
                            <td data-label="Date">Monday 30th May 2022</td>
                            <td data-label="Time">3.30pm-5.30pm</td>
                            <td data-label="Course">CSM 491 Graph Theory & its Application	</td>
                            <td data-label="Venue">FF1/FF5/FF24</td>
                        </tr>
                        <tr>
                            <td data-label="Date">Tuesday 31st May 2022</td>
                            <td data-label="Time">3.30pm-5.30pm</td>
                            <td data-label="Course">CSM 477 Data Communications</td>
                            <td data-label="Venue">SF1/SF7/SF8</td>
                        </tr>
                        <tr>
                            <td data-label="Date">Wednesday 1st June 2022</td>
                            <td data-label="Time">3.30pm-5.30pm</td>
                            <td data-label="Course">CSM 495 Introduction to Software Engineering</td>
                            <td data-label="Venue">SF1/SF7/SF8</td>
                        </tr> -->

                    </tbody>
                </table>

                </div>

<!-- CS3 timetable -->

                <!-- <div class="timetable b" id="cs3">
                    <table>
                        <thead>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Course</th>
                            <th>Venue</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-label="Date">Friday 20th May 2022</td>
                                <td data-label="Time">3.30pm-5.30pm</td>
                                <td data-label="Course">CSM 393 Operations Research I</td>
                                <td data-label="Venue">FF1/FF5/FF24</td>
                            </tr>
                            <tr>
                                <td data-label="Date">Monday 23rd May 2022</td>
                                <td data-label="Time">3.30pm-5.30pm</td>
                                <td data-label="Course">CSM 353 Survey of Programming Languages</td>
                                <td data-label="Venue">SF1/SF7/SF8</td>
                            </tr>
                            <tr>
                                <td data-label="Date">Thursday 26th May 2022</td>
                                <td data-label="Time">3.30pm-5.30pm</td>
                                <td data-label="Course">CSM 357 Human Computer Interaction</td>
                                <td data-label="Venue">SF1/SF7/SF8</td>
                            </tr>
                            <tr>
                                <td data-label="Date">Friday 27th May 2022</td>
                                <td data-label="Time">3.30pm-5.30pm</td>
                                <td data-label="Course">CSM 387 Data Structures I</td>
                                <td data-label="Venue">FF1/FF5/FF24</td>
                            </tr>
                            <tr>
                                <td data-label="Date">Tuesday 31st May 2022</td>
                                <td data-label="Time">12.00pm-2.00pm</td>
                                <td data-label="Course">CSM 285 Accounting I</td>
                                <td data-label="Venue">TF1/TF34/SF7</td>
                            </tr>
                            <tr>
                                <td data-label="Date">Wednesday 1st June 2022</td>
                                <td data-label="Time">8.30am -10.30am</td>
                                <td data-label="Course">CSM 395 Introduction To Artificial Intelligence</td>
                                <td data-label="Venue">FF1/FF5/FF24/FF6</td>
                            </tr>
                            <tr>
                                <td data-label="Date">Thursday 2nd June 2022</td>
                                <td data-label="Time">3.30pm-5.30pm</td>
                                <td data-label="Course">CSM 399 Web-Based Concepts & Development</td>
                                <td data-label="Venue">SF1/SF7/SF20</td>
                            </tr>
    
                        </tbody>
                    </table>

                </div> -->


            </div>
                <div class="print">
                    <h1 class="temperror" id="t1">Oops!! You forgot to pick your course,<br> please <a href="#hometoppage">scroll up</a> and select your course</h1>
                    <button class="printout" type="button">
                        <a href="#" download="Exam Timetable" id="downloadTable">
                            Download <ion-icon name="download-outline"></ion-icon></a>
                    </button>
                </div>

            </div>
            <div id="div1" class="test">
            </div>

        </div>
        <!-- <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
              apiKey: "AIzaSyAAYhSTzkRjZsW7I2D9czB0foXMiKpfe9c",
              authDomain: "prep-database.firebaseapp.com",
              projectId: "prep-database",
              storageBucket: "prep-database.appspot.com",
              messagingSenderId: "39036315929",
              appId: "1:39036315929:web:46e63775fc6a72d9513d88",
              measurementId: "G-FNLK5Z0QP8"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            import {getDatabase, set, get, update, remove, ref, child} from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js"
          </script> -->
          <script type="module">

            var stdNo = 0;
            var tbody = document.getElementById("tbody1");
        
            function AddItemToTable(date,time,course,venue,test){
                let trow = document.createElement("tr");
                let td1 = document.createElement('td');
                let td2 = document.createElement('td');
                let td3 = document.createElement('td');
                let td4 = document.createElement('td');
                let td5 = document.createElement('td');
                let td6 = document.createElement('td');
                // let td6 = document.createElement('td');
        
        
                td1.innerHTML = ++stdNo;
                td2.innerHTML = date;
                td3.innerHTML = time;
                td4.innerHTML = course;
                td5.innerHTML = venue;
        
                // trow.appendChild(td1);
                trow.appendChild(td2);
                trow.appendChild(td3);
                trow.appendChild(td4);
                trow.appendChild(td5);
                // trow.appendChild(td6);

        
                tbody.appendChild(trow);
            }
            function AddAllItemsToTable(TheStudent){
                stdNo=0;
                tbody.innerHTML="";
                TheStudent.forEach(element => {
                    AddItemToTable( element.Date, element.Time, element.Course, element.Venue);
        
                });
            }
        
         // Import the functions you need from the SDKs you need
         import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
          import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
          // TODO: Add SDKs for Firebase products that you want to use
          // https://firebase.google.com/docs/web/setup#available-libraries
        
          // Your web app's Firebase configuration
          // For Firebase JS SDK v7.20.0 and later, measurementId is optional
          const firebaseConfig = {
            apiKey: "AIzaSyAAYhSTzkRjZsW7I2D9czB0foXMiKpfe9c",
            authDomain: "prep-database.firebaseapp.com",
            databaseURL: "https://prep-database-default-rtdb.firebaseio.com",
            projectId: "prep-database",
            storageBucket: "prep-database.appspot.com",
            messagingSenderId: "39036315929",
            appId: "1:39036315929:web:46e63775fc6a72d9513d88",
            measurementId: "G-FNLK5Z0QP8"
          };
        
          // Initialize Firebase
          const app = initializeApp(firebaseConfig);
        
            import { getDatabase, ref, child, onValue, get, update} 
            from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js"
        
            const db = getDatabase();
        
            //get all data once
        
            // function GetAllDataOnce(){
            //     const dbRef = ref(db);
        
            //     get(child(dbRef, "CS4"))
            //     .then((snapshot)=>{
        
            //         var batch =[];
        
            //         snapshot.forEach(childSnapshot => {
            //             batch.push(childSnapshot.val());
            //         }); 
        
            //         AddAllItemsToTable(batch);
            //     });
            // }
        
            let selectCS3 = document.querySelector(".links"); 
            let selectCS4 = document.querySelector(".links.curve"); 

            function GetAllDataRealTime(){

                const dbRef = ref(db,"CS4");

                onValue(dbRef,(snapshot)=>{
        
                    var batch =[];
        
                    snapshot.forEach(childSnapshot => {
                        batch.push(childSnapshot.val());
                });
                
                AddAllItemsToTable(batch);
                })
           }

           function GetAllDataRealTime_3(){

                const dbRef = ref(db,"CS3");

                onValue(dbRef,(snapshot)=>{

                    var batch =[];

                    snapshot.forEach(childSnapshot => {
                        batch.push(childSnapshot.val());
            });

            AddAllItemsToTable(batch);
            })
        }
        
            // window.onload = GetAllDataRealTime;
            selectCS4.addEventListener("click", GetAllDataRealTime);
            selectCS3.addEventListener("click", GetAllDataRealTime_3);
            
            let tempj = JSON.parse(localStorage.getItem("TableView"));
if(tempj === "v1"){
    document.getElementById("prep-section").href="prep-cs4.html";
    // document.getElementById("cs3").style.display = "none";
    document.getElementById("cs4").style.display = "block";
    document.getElementById("t1").style.display = "none";
            window.onload = GetAllDataRealTime;

            document.getElementById("downloadTable").href="resources/Exam_Timetable_CS4.pdf";

            
    // document.getElementById("cs3Table").style.display="block";
}else if (tempj === "v2"){
    document.getElementById("prep-section").href="prep-cs3.html";
    // document.getElementById("cs3").style.display = "block";
    document.getElementById("cs4").style.display = "block";
    document.getElementById("t1").style.display = "none";
    window.onload = GetAllDataRealTime_3;

    document.getElementById("downloadTable").href="resources/Exam_Timetable_CS3.pdf";


    
}else {
    document.getElementById("prep-section").href="Preperation.html";
};



        </script>

        <!-- icon pack -->
        <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

</body>

<script>

let tempC = JSON.parse(localStorage.getItem("TableView"));
if(tempC === "v1"){
    document.getElementById("prep-section").href="prep-cs4.html";
    // document.getElementById("cs3").style.display = "none";
    document.getElementById("cs4").style.display = "block";
    document.getElementById("t1").style.display = "none";
            window.onload = GetAllDataRealTime;

    document.getElementById("downloadTable").href="resources/Exam_Timetable_CS4.pdf";


        
    // document.getElementById("cs3Table").style.display="block";
}else if (tempC === "v2"){
    document.getElementById("prep-section").href="prep-cs3.html";
    // document.getElementById("cs3").style.display = "block";
    document.getElementById("cs4").style.display = "block";
    document.getElementById("t1").style.display = "none";
    window.onload = GetAllDataRealTime_3;

    document.getElementById("downloadTable").href="resources/Exam_Timetable_CS3.pdf";


    
}else {
    document.getElementById("prep-section").href="Preperation.html";
};

</script>

</html

